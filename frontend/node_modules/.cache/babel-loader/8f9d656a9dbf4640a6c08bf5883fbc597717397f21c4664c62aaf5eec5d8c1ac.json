{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"min-h-screen bg-gray-900 py-12 px-4 sm:px-6 lg:px-8\"\n};\nconst _hoisted_2 = {\n  class: \"max-w-md w-full space-y-8 bg-gray-800 p-10 rounded-xl shadow-lg mx-auto\"\n};\nconst _hoisted_3 = {\n  class: \"mt-6 text-center text-3xl font-extrabold text-white\"\n};\nconst _hoisted_4 = {\n  type: \"submit\",\n  class: \"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", null, [_createElementVNode(\"h2\", _hoisted_3, _toDisplayString($setup.isEditing ? 'Editar Categoria' : 'Cadastrar Nova Categoria'), 1 /* TEXT */)]), _createElementVNode(\"form\", {\n    class: \"mt-8 space-y-6\",\n    onSubmit: _withModifiers($setup.handleSubmit, [\"prevent\"])\n  }, [_createElementVNode(\"div\", null, [_cache[1] || (_cache[1] = _createElementVNode(\"label\", {\n    for: \"nome\",\n    class: \"sr-only\"\n  }, \"Nome da Categoria\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    id: \"nome\",\n    name: \"nome\",\n    type: \"text\",\n    required: \"\",\n    class: \"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\",\n    placeholder: \"Nome da Categoria\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.nome = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.nome]])]), _createElementVNode(\"div\", null, [_createElementVNode(\"button\", _hoisted_4, _toDisplayString($setup.isEditing ? 'Atualizar' : 'Cadastrar'), 1 /* TEXT */)])], 32 /* NEED_HYDRATION */)])]);\n}","map":{"version":3,"names":["class","type","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_toDisplayString","$setup","isEditing","onSubmit","_withModifiers","handleSubmit","for","id","name","required","placeholder","_cache","$event","nome","_hoisted_4"],"sources":["/home/lobo/Desktop/KODE/bringel2/frontend/src/components/CategoriaForm.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen bg-gray-900 py-12 px-4 sm:px-6 lg:px-8\">\n    <div class=\"max-w-md w-full space-y-8 bg-gray-800 p-10 rounded-xl shadow-lg mx-auto\">\n      <div>\n        <h2 class=\"mt-6 text-center text-3xl font-extrabold text-white\">\n          {{ isEditing ? 'Editar Categoria' : 'Cadastrar Nova Categoria' }}\n        </h2>\n      </div>\n      <form class=\"mt-8 space-y-6\" @submit.prevent=\"handleSubmit\">\n        <div>\n          <label for=\"nome\" class=\"sr-only\">Nome da Categoria</label>\n          <input id=\"nome\" name=\"nome\" type=\"text\" required\n            class=\"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n            placeholder=\"Nome da Categoria\" v-model=\"nome\">\n        </div>\n        <div>\n          <button type=\"submit\"\n            class=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\">\n            {{ isEditing ? 'Atualizar' : 'Cadastrar' }}\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { createCategoria, updateCategoria, getCategoriaById } from '../api'\n\nconst route = useRoute()\nconst router = useRouter()\nconst nome = ref('')\nconst isEditing = ref(false)\n\nonMounted(async () => {\n  if (route.params.id) {\n    isEditing.value = true\n    try {\n      const response = await getCategoriaById(route.params.id)\n      nome.value = response.data.nome\n    } catch (error) {\n      console.error('Erro ao carregar categoria:', error)\n    }\n  }\n})\n\nconst handleSubmit = async () => {\n  try {\n    if (isEditing.value) {\n      await updateCategoria(route.params.id, { nome: nome.value })\n    } else {\n      await createCategoria({ nome: nome.value })\n    }\n    router.push('/categorias')\n  } catch (error) {\n    console.error('Erro ao salvar categoria:', error)\n    // Adicione aqui a lógica para mostrar uma mensagem de erro ao usuário\n  }\n}\n</script>\n\n"],"mappings":";;EACOA,KAAK,EAAC;AAAqD;;EACzDA,KAAK,EAAC;AAAyE;;EAE5EA,KAAK,EAAC;AAAqD;;EAYrDC,IAAI,EAAC,QAAQ;EACnBD,KAAK,EAAC;;;uBAhBhBE,mBAAA,CAsBM,OAtBNC,UAsBM,GArBJC,mBAAA,CAoBM,OApBNC,UAoBM,GAnBJD,mBAAA,CAIM,cAHJA,mBAAA,CAEK,MAFLE,UAEK,EAAAC,gBAAA,CADAC,MAAA,CAAAC,SAAS,mE,GAGhBL,mBAAA,CAaO;IAbDJ,KAAK,EAAC,gBAAgB;IAAEU,QAAM,EAR1CC,cAAA,CAQoDH,MAAA,CAAAI,YAAY;MACxDR,mBAAA,CAKM,c,0BAJJA,mBAAA,CAA2D;IAApDS,GAAG,EAAC,MAAM;IAACb,KAAK,EAAC;KAAU,mBAAiB,sB,gBACnDI,mBAAA,CAEiD;IAF1CU,EAAE,EAAC,MAAM;IAACC,IAAI,EAAC,MAAM;IAACd,IAAI,EAAC,MAAM;IAACe,QAAQ,EAAR,EAAQ;IAC/ChB,KAAK,EAAC,kMAAkM;IACxMiB,WAAW,EAAC,mBAAmB;IAb3C,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAaqDX,MAAA,CAAAY,IAAI,GAAAD,MAAA;iDAAJX,MAAA,CAAAY,IAAI,E,KAEjDhB,mBAAA,CAKM,cAJJA,mBAAA,CAGS,UAHTiB,UAGS,EAAAd,gBAAA,CADJC,MAAA,CAAAC,SAAS,6C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}