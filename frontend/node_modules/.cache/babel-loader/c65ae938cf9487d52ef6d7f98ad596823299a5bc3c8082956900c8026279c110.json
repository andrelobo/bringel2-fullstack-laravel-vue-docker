{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"min-h-screen bg-gray-900 py-12 px-4 sm:px-6 lg:px-8\"\n};\nconst _hoisted_2 = {\n  class: \"max-w-7xl mx-auto\"\n};\nconst _hoisted_3 = {\n  class: \"flex justify-between items-center mb-6\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"bg-red-600 text-white px-4 py-3 rounded mb-4\"\n};\nconst _hoisted_5 = {\n  class: \"bg-gray-800 shadow overflow-hidden sm:rounded-md\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"divide-y divide-gray-700\"\n};\nconst _hoisted_7 = {\n  class: \"text-sm font-medium text-white\"\n};\nconst _hoisted_8 = {\n  class: \"text-sm text-gray-400\"\n};\nconst _hoisted_9 = {\n  class: \"flex items-center space-x-4\"\n};\nconst _hoisted_10 = {\n  class: \"text-sm font-medium text-green-400\"\n};\nconst _hoisted_11 = {\n  class: \"flex space-x-2\"\n};\nconst _hoisted_12 = [\"onClick\"];\nconst _hoisted_13 = {\n  key: 1,\n  class: \"text-gray-400 text-center py-4\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_cache[1] || (_cache[1] = _createElementVNode(\"h2\", {\n    class: \"text-3xl font-extrabold text-white\"\n  }, \"Lista de Produtos\", -1 /* HOISTED */)), _createVNode(_component_router_link, {\n    to: \"/produtos/novo\",\n    class: \"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded\"\n  }, {\n    default: _withCtx(() => _cache[0] || (_cache[0] = [_createTextVNode(\" Novo Produto \")])),\n    _: 1 /* STABLE */\n  })]), $setup.errorMessage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, _toDisplayString($setup.errorMessage), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_5, [$setup.produtos.length > 0 ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.produtos, produto => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: produto.id,\n      class: \"px-6 py-4 flex items-center justify-between\"\n    }, [_createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_7, _toDisplayString(produto.nome), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_8, _toDisplayString(produto.categoria?.nome || 'Sem categoria'), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, \"R$ \" + _toDisplayString(parseFloat(produto.preco).toFixed(2)), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_11, [_createVNode(_component_router_link, {\n      to: `/produtos/${produto.id}/editar`,\n      class: \"text-indigo-400 hover:text-indigo-300\"\n    }, {\n      default: _withCtx(() => [...(_cache[2] || (_cache[2] = [_createTextVNode(\" Editar \")]))]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"]), _createElementVNode(\"button\", {\n      onClick: $event => $setup.deleteProduto(produto.id),\n      class: \"text-red-400 hover:text-red-300\"\n    }, \" Excluir \", 8 /* PROPS */, _hoisted_12)])])]);\n  }), 128 /* KEYED_FRAGMENT */))])) : (_openBlock(), _createElementBlock(\"p\", _hoisted_13, \" Nenhum produto encontrado. \"))])])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createVNode","_component_router_link","to","default","_withCtx","_cache","_createTextVNode","_","$setup","errorMessage","_hoisted_4","_toDisplayString","_createCommentVNode","_hoisted_5","produtos","length","_hoisted_6","_Fragment","_renderList","produto","id","_hoisted_7","nome","_hoisted_8","categoria","_hoisted_9","_hoisted_10","parseFloat","preco","toFixed","_hoisted_11","onClick","$event","deleteProduto","_hoisted_12","_hoisted_13"],"sources":["/home/lobo/Desktop/KODE/bringel2/frontend/src/components/ProdutoList.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen bg-gray-900 py-12 px-4 sm:px-6 lg:px-8\">\n    <div class=\"max-w-7xl mx-auto\">\n      <div class=\"flex justify-between items-center mb-6\">\n        <h2 class=\"text-3xl font-extrabold text-white\">Lista de Produtos</h2>\n        <router-link to=\"/produtos/novo\" class=\"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded\">\n          Novo Produto\n        </router-link>\n      </div>\n      <div v-if=\"errorMessage\" class=\"bg-red-600 text-white px-4 py-3 rounded mb-4\">\n        {{ errorMessage }}\n      </div>\n      <div class=\"bg-gray-800 shadow overflow-hidden sm:rounded-md\">\n        <ul v-if=\"produtos.length > 0\" class=\"divide-y divide-gray-700\">\n          <li\n            v-for=\"produto in produtos\"\n            :key=\"produto.id\"\n            class=\"px-6 py-4 flex items-center justify-between\"\n          >\n            <div>\n              <div class=\"text-sm font-medium text-white\">{{ produto.nome }}</div>\n              <div class=\"text-sm text-gray-400\">\n                {{ produto.categoria?.nome || 'Sem categoria' }}\n              </div>\n            </div>\n            <div class=\"flex items-center space-x-4\">\n              <div class=\"text-sm font-medium text-green-400\">R$ {{ parseFloat(produto.preco).toFixed(2) }}</div>\n              <div class=\"flex space-x-2\">\n                <router-link :to=\"`/produtos/${produto.id}/editar`\" class=\"text-indigo-400 hover:text-indigo-300\">\n                  Editar\n                </router-link>\n                <button @click=\"deleteProduto(produto.id)\" class=\"text-red-400 hover:text-red-300\">\n                  Excluir\n                </button>\n              </div>\n            </div>\n          </li>\n        </ul>\n        <p v-else class=\"text-gray-400 text-center py-4\">\n          Nenhum produto encontrado.\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { getProdutos, deleteProduto as apiDeleteProduto } from '../api'\n\nconst produtos = ref([])\nconst errorMessage = ref('')\n\nonMounted(async () => {\n  await loadProdutos()\n})\n\nconst loadProdutos = async () => {\n  try {\n    const response = await getProdutos()\n\n    console.log('Resposta da API:', response)\n\n    // Acessar os dados corretamente\n    if (response.data && response.data.success) {\n      produtos.value = response.data.data // Atualiza produtos com os dados corretos\n      errorMessage.value = '' // Reseta a mensagem de erro caso tenha sucesso\n    } else {\n      throw new Error('Resposta inesperada da API.')\n    }\n  } catch (error) {\n    console.error('Erro ao carregar produtos:', error)\n    errorMessage.value = 'Erro ao carregar produtos. Por favor, tente novamente mais tarde.'\n  }\n}\n\nconst deleteProduto = async (id) => {\n  if (confirm('Tem certeza que deseja excluir este produto?')) {\n    try {\n      await apiDeleteProduto(id)\n      await loadProdutos()\n    } catch (error) {\n      console.error('Erro ao excluir produto:', error)\n      errorMessage.value = 'Erro ao excluir o produto. Por favor, tente novamente.'\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* Estilização personalizada, se necessário */\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAqD;;EACzDA,KAAK,EAAC;AAAmB;;EACvBA,KAAK,EAAC;AAAwC;;EAHzDC,GAAA;EAS+BD,KAAK,EAAC;;;EAG1BA,KAAK,EAAC;AAAkD;;EAZnEC,GAAA;EAauCD,KAAK,EAAC;;;EAO1BA,KAAK,EAAC;AAAgC;;EACtCA,KAAK,EAAC;AAAuB;;EAI/BA,KAAK,EAAC;AAA6B;;EACjCA,KAAK,EAAC;AAAoC;;EAC1CA,KAAK,EAAC;AAAgB;oBA3BzC;;EAAAC,GAAA;EAsCkBD,KAAK,EAAC;;;;uBArCtBE,mBAAA,CA0CM,OA1CNC,UA0CM,GAzCJC,mBAAA,CAwCM,OAxCNC,UAwCM,GAvCJD,mBAAA,CAKM,OALNE,UAKM,G,0BAJJF,mBAAA,CAAqE;IAAjEJ,KAAK,EAAC;EAAoC,GAAC,mBAAiB,sBAChEO,YAAA,CAEcC,sBAAA;IAFDC,EAAE,EAAC,gBAAgB;IAACT,KAAK,EAAC;;IAL/CU,OAAA,EAAAC,QAAA,CAK0H,MAElHC,MAAA,QAAAA,MAAA,OAPRC,gBAAA,CAK0H,gBAElH,E;IAPRC,CAAA;QASiBC,MAAA,CAAAC,YAAY,I,cAAvBd,mBAAA,CAEM,OAFNe,UAEM,EAAAC,gBAAA,CADDH,MAAA,CAAAC,YAAY,oBAVvBG,mBAAA,gBAYMf,mBAAA,CA6BM,OA7BNgB,UA6BM,GA5BML,MAAA,CAAAM,QAAQ,CAACC,MAAM,Q,cAAzBpB,mBAAA,CAwBK,MAxBLqB,UAwBK,I,kBAvBHrB,mBAAA,CAsBKsB,SAAA,QApCfC,WAAA,CAe8BV,MAAA,CAAAM,QAAQ,EAAnBK,OAAO;yBADhBxB,mBAAA,CAsBK;MApBFD,GAAG,EAAEyB,OAAO,CAACC,EAAE;MAChB3B,KAAK,EAAC;QAENI,mBAAA,CAKM,cAJJA,mBAAA,CAAoE,OAApEwB,UAAoE,EAAAV,gBAAA,CAArBQ,OAAO,CAACG,IAAI,kBAC3DzB,mBAAA,CAEM,OAFN0B,UAEM,EAAAZ,gBAAA,CADDQ,OAAO,CAACK,SAAS,EAAEF,IAAI,oC,GAG9BzB,mBAAA,CAUM,OAVN4B,UAUM,GATJ5B,mBAAA,CAAmG,OAAnG6B,WAAmG,EAAnD,KAAG,GAAAf,gBAAA,CAAGgB,UAAU,CAACR,OAAO,CAACS,KAAK,EAAEC,OAAO,qBACvFhC,mBAAA,CAOM,OAPNiC,WAOM,GANJ9B,YAAA,CAEcC,sBAAA;MAFAC,EAAE,eAAeiB,OAAO,CAACC,EAAE;MAAW3B,KAAK,EAAC;;MA5B1EU,OAAA,EAAAC,QAAA,CA4BkH,MAElG,KAAAC,MAAA,QAAAA,MAAA,OA9BhBC,gBAAA,CA4BkH,UAElG,E;MA9BhBC,CAAA;iDA+BgBV,mBAAA,CAES;MAFAkC,OAAK,EAAAC,MAAA,IAAExB,MAAA,CAAAyB,aAAa,CAACd,OAAO,CAACC,EAAE;MAAG3B,KAAK,EAAC;OAAkC,WAEnF,iBAjChByC,WAAA,E;qDAsCQvC,mBAAA,CAEI,KAFJwC,WAEI,EAF6C,8BAEjD,G","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}